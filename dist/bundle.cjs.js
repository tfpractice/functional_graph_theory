"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var fenugreekCollections=require("fenugreek-collections"),components=function(e){var n=function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,r=arguments[1];return fenugreekCollections.diff(fenugreekCollections.spreadK(e.get(r)))(t).reduce(n,fenugreekCollections.addSet(t)(r))},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments[1];return fenugreekCollections.diff(n(new Set,t))(e).map(fenugreekCollections.tuple(n(new Set,t))).reduce(fenugreekCollections.addBinMap,e)};return fenugreekCollections.spreadK(e).reduce(t,new Map)},componentSet=function(e){return new Set(fenugreekCollections.spreadV(components(e)))},components$1=Object.freeze({components:components,componentSet:componentSet}),slicedToArray=function(){function e(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),resetNodeBin=function(e,n){return fenugreekCollections.addMap(e)(n)(fenugreekCollections.asMap())},addNodeBin=function(e,n){return fenugreekCollections.addMap(e)(n)(fenugreekCollections.asMap(fenugreekCollections.get(e)(n)))},neighborPairs=function(e){return function(n){return fenugreekCollections.spreadK(fenugreekCollections.get(e)(n)).map(fenugreekCollections.append(n))}},addEdgeBin=function(e,n){var t=slicedToArray(n,3),r=t[0],o=t[1],i=t[2],u=void 0===i?0:i;return[[r,fenugreekCollections.addMap(fenugreekCollections.get(e)(r))(o)(u)],[o,fenugreekCollections.addMap(fenugreekCollections.get(e)(o))(r)(u)]].reduce(fenugreekCollections.addBinMap,fenugreekCollections.asMap(e))},removeEdgeBin=function(e,n){var t=slicedToArray(n,2),r=t[0],o=t[1];return[[r,fenugreekCollections.removeMap(fenugreekCollections.get(e)(r))(o)],[o,fenugreekCollections.removeMap(fenugreekCollections.get(e)(o))(r)]].reduce(fenugreekCollections.addBinMap,fenugreekCollections.asMap(e))},disconnectNodeBin=function(e,n){return neighborPairs(e)(n).reduce(removeEdgeBin,fenugreekCollections.asMap(e))},importEdgeBin=function(e,n){var t=slicedToArray(n,2),r=t[0],o=t[1];return fenugreekCollections.spread(fenugreekCollections.mapDiff(o)(fenugreekCollections.get(e)(r))).map(fenugreekCollections.flatTuple(r)).reduce(addEdgeBin,addNodeBin(e,r))},mergeEdgesBin=function(e,n){return fenugreekCollections.spread(fenugreekCollections.asMap(n)).reduce(importEdgeBin,e)},mergeNeighbors=fenugreekCollections.uniteMap,graph=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce(addNodeBin,new Map)},nodes=function(e){return fenugreekCollections.spreadK(fenugreekCollections.asMap(e))},copy=function(e){return nodes(e).reduce(addNodeBin,fenugreekCollections.asMap(e))},adj=function(e){return function(n){return fenugreekCollections.asMap(fenugreekCollections.get(e)(n))}},neighbors=function(e){return function(n){return nodes(adj(e)(n))}},contains=function(e){return function(n){return fenugreekCollections.hasK(e)(n)}},isAdjacent=function(e){return function(n){return function(t){return contains(adj(e)(n))(t)}}},addNodes=function(e){return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(addNodeBin,e)}},resetNodes=function(e){return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(resetNodeBin,e)}},addEdges=function(e){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.map(fenugreekCollections.triple(t)(n)).reduce(addEdgeBin,e)}}},removeEdges=function(e){return function(n){return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return r.map(fenugreekCollections.tuple(n)).reduce(removeEdgeBin,e)}}},disconnectNodes=function(e){return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(disconnectNodeBin,copy(e))}},removeNodes=function(e){return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(fenugreekCollections.removeBin,disconnectNodes(e).apply(void 0,t))}},mergeEdges=function(e){return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(mergeEdgesBin,e)}},addNeighbor=function(e){return function(n){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return fenugreekCollections.addBinMap(adj(e)(n),[t,r])}}},addEntry=function(e){return function(n){var t=slicedToArray(n,2),r=t[0],o=t[1],i=void 0===o?0:o;return fenugreekCollections.addBinMap(e,[r,i])}},graph$1=Object.freeze({mergeNeighbors:mergeNeighbors,graph:graph,nodes:nodes,copy:copy,adj:adj,neighbors:neighbors,contains:contains,isAdjacent:isAdjacent,addNodes:addNodes,resetNodes:resetNodes,addEdges:addEdges,removeEdges:removeEdges,disconnectNodes:disconnectNodes,removeNodes:removeNodes,mergeEdges:mergeEdges,addNeighbor:addNeighbor,addEntry:addEntry}),autoSpread=function e(n){return fenugreekCollections.isIterable(n)?fenugreekCollections.spread(n).reduce(fenugreekCollections.flattenBin,[]).map(e):n},superNode=function(e){return function(n){return fenugreekCollections.asSet([e,n])}},combineNeighbors=function(e){return function(n){return function(t){return fenugreekCollections.asSet(fenugreekCollections.flatten(neighbors(e)(n))(neighbors(e)(t)))}}},combineAdj=function(e){return function(n){return function(t){return fenugreekCollections.asMap(fenugreekCollections.flatten(adj(e)(n))(adj(e)(t)))}}},superAdj=function(e){return function(n){return function(t){return[n,t].reduce(fenugreekCollections.removeBin,combineAdj(e)(n)(t))}}},superEdge=function(e){return function(n){return function(t){return fenugreekCollections.addMap()(superNode(n)(t))(superAdj(e)(n)(t))}}},contract=function(e){return function(n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fenugreekCollections.first(neighbors(e)(n));return t?mergeEdges(removeNodes(e)(n,t))(superEdge(e)(n)(t)):e}}},contractBin=function(e,n){var t=slicedToArray(n,2),r=t[0],o=t[1];return contract(e)(r)(o)},contractSrc=function(e){return function(n){return neighborPairs(e)(n).reduce(contractBin,copy(e))}},contractNext=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fenugreekCollections.first(nodes(e));return contract(copy(e))(n)()},contractAuto=function(e){return nodes(e).reduce(contractNext,e)},contractMin=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return n.size>t?e(contractNext(n),t):copy(n)},contract$1=Object.freeze({autoSpread:autoSpread,superNode:superNode,combineNeighbors:combineNeighbors,combineAdj:combineAdj,superAdj:superAdj,superEdge:superEdge,contract:contract,contractBin:contractBin,contractSrc:contractSrc,contractNext:contractNext,contractAuto:contractAuto,contractMin:contractMin}),pathEntry=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{pred:e,length:n,weight:t}},pathVal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{pred:e,length:n,weight:t}}}},appendPath=function(e){return function(n){return fenugreekCollections.addMap(e)(n)(pathEntry(fenugreekCollections.lastK(e),1,0))}},initPath=function(e){return appendPath()(e)},getWeight=function(e){var n=e.weight,t=void 0===n?0:n;return t},getLength=function(e){var n=e.length,t=void 0===n?1:n;return t},lastVal=function(e){return e.get(fenugreekCollections.lastK(e))},lastWeight=function(e){return getWeight(lastVal(e))},lastLength=function(e){return getLength(lastVal(e))},nextWeight=function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return lastWeight(e)+n}},nextLength=function(e){return lastLength(e)?lastLength(e)+1:1},nextPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=arguments[1],t=slicedToArray(n,2),r=t[0],o=t[1],i=void 0===o?0:o;return e.set(r,pathVal(fenugreekCollections.lastK(e))(nextLength(e))(nextWeight(e)(i)))},path=Object.freeze({pathEntry:pathEntry,appendPath:appendPath,initPath:initPath,getWeight:getWeight,getLength:getLength,lastVal:lastVal,lastWeight:lastWeight,lastLength:lastLength,nextWeight:nextWeight,nextLength:nextLength,nextPath:nextPath}),dfs=function(e){return function(n){var t=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initPath(n),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[fenugreekCollections.lastK(r),0],i=slicedToArray(o,2),u=i[0],c=i[1];return fenugreekCollections.spread(fenugreekCollections.mapDiff(e.get(u))(r)).reduce(t,nextPath(r,[u,c]))};return t(initPath(n))}},bfs=function(e){return function(n){var t=function n(t){return function(r){var o=fenugreekCollections.popFirst(r),i=fenugreekCollections.mapDiff(e.get(o))(t);return fenugreekCollections.spread(i).reduce(nextPath,t),fenugreekCollections.spreadK(i).reduce(fenugreekCollections.addBinSet,r),r.size>0?n(t)(r):t}};return t(initPath(n))(fenugreekCollections.asSet([n]))}},dijkstra=function(e){return function(n){for(var t=bfs(e)(n),r=fenugreekCollections.asSet([n]),o=initPath(n);r.size>0;){var i=fenugreekCollections.popFirst(r),u=e.get(i),c=o.get(i),a=c.length,l=c.weight,s=!0,d=!1,g=void 0;try{for(var f,p=u[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=slicedToArray(f.value,2),k=h[0],v=h[1],C=t.get(k)||{length:1,weight:0},m=(C.length,C.weight),S={pred:i,length:a+1,weight:l+v},y=l+v<m?S:C;o.has(k)||(r.add(k),o.set(k,y))}}catch(e){d=!0,g=e}finally{try{!s&&p.return&&p.return()}finally{if(d)throw g}}}return o}},pathBetween=function(e){return function(n){return function(t){return fenugreekCollections.hasK(fenugreekCollections.get(components(e))(n))(t)}}},search=Object.freeze({dfs:dfs,bfs:bfs,dijkstra:dijkstra,pathBetween:pathBetween}),redStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",n=arguments[1],t=(arguments[2],arguments[3]);return n===fenugreekCollections.last(t)?e.concat(n," "):e.concat(n," , ")},collString=function(e){return fenugreekCollections.spread(e).reduce(redStr,"")},kString=function(e){return fenugreekCollections.spreadK(e).reduce(redStr,"")},vString=function(e){return fenugreekCollections.spreadV(e).reduce(redStr,"")},kvString=function(e){return fenugreekCollections.spreadKV(e).reduce(redStr,"")},pathString=function(e){return" { "+fenugreekCollections.spreadK(e).join(" => ")+" }"},edgeString=function(e){var n=slicedToArray(e,2),t=n[0],r=n[1];return"{ Edge "+t+" >> [ "+kString(r)+" ] } "},componentString=function(e){var n=slicedToArray(e,2),t=n[0],r=n[1];return"{ component "+t+" >> [ "+kString(r)+" ] } "},graphString=function(e){return fenugreekCollections.spreadKV(e).reduce(function(e,n,t){var r=slicedToArray(n,2),o=r[0],i=r[1];return e+edgeString([o,i])},"Showing Edges\n")},showGraph=function(e){var n=e.edges;return graphString(n)},show=Object.freeze({redStr:redStr,collString:collString,kString:kString,vString:vString,kvString:kvString,pathString:pathString,edgeString:edgeString,componentString:componentString,graphString:graphString,showGraph:showGraph});exports.Components=components$1,exports.Contract=contract$1,exports.Graph=graph$1,exports.Path=path,exports.Search=search,exports.Show=show;
//# sourceMappingURL=bundle.cjs.js.map
