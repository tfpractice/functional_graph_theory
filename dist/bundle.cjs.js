"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var turmericUtils=require("turmeric-utils"),slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done)&&(t.push(c.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)},addBinMap=turmericUtils.collections.addBinMap,mapDiff=turmericUtils.collections.mapDiff,spread=turmericUtils.collections.spread,addMap=turmericUtils.collections.addMap,get$$1=turmericUtils.collections.get,flatTuple=turmericUtils.collections.flatTuple,removeMap=turmericUtils.collections.removeMap,resetNodeBin=function(e,r){return addMap(e)(r)(new Map)},addNodeBin=function(e,r){return addMap(e)(r)(new Map(get$$1(e)(r)))},removeNodeBin=function(e,r){return addMap(e)(r)(new Map(get$$1(e)(r)))},addEdgeBin=function(e,r){var t=slicedToArray(r,3),n=t[0],o=t[1],i=t[2],c=void 0===i?0:i;return[[n,addMap(get$$1(e)(n))(o)(c)],[o,addMap(get$$1(e)(o))(n)(c)]].reduce(addBinMap,new Map(e))},removeEdgeBin=function(e,r){var t=slicedToArray(r,2),n=t[0],o=t[1];return[[n,removeMap(get$$1(e)(n))(o)],[o,removeMap(get$$1(e)(o))(n)]].reduce(addBinMap,new Map(e))},importEdgeBin=function(e,r){var t=slicedToArray(r,2),n=t[0],o=t[1];return spread(mapDiff(o)(get$$1(e)(n))).map(flatTuple(n)).reduce(addEdgeBin,addNodeBin(e,n))},mergeEdgesBin=function(e,r){return spread(new Map(r)).reduce(importEdgeBin,e)},triple=turmericUtils.collections.triple,tuple=turmericUtils.collections.tuple,get$2=turmericUtils.collections.get,spreadK=turmericUtils.collections.spreadK,hasK=turmericUtils.collections.hasK,addBinMap$1=turmericUtils.collections.addBinMap,removeBin=turmericUtils.collections.removeBin,uniteMap=turmericUtils.collections.uniteMap,spawn=function(e){return new Map(e)},copy=spawn,fromElements=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.reduce(addNodeBin,copy())},nodes=function(e){return spreadK(copy(e))},adj=function(e){return function(r){return copy(get$2(e)(r))}},neighbors=function(e){return function(r){return nodes(adj(e)(r))}},contains=function(e){return function(r){return hasK(e)(r)}},isAdjacent=function(e){return function(r){return function(t){return contains(adj(e)(r))(t)}}},kvPair=function(e){return function(r){return[e,r]}},nodeNeighbors=function(e){return function(r){return neighbors(e)(r).map(kvPair(r))}},addNodes=function(e){return function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.reduce(addNodeBin,e)}},resetNodes=function(e){return function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.reduce(resetNodeBin,e)}},addEdges=function(e){return function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.map(triple(t)(r)).reduce(addEdgeBin,e)}}},removeEdges=function(e){return function(r){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.map(tuple(r)).reduce(removeEdgeBin,e)}}},disconnectNodeBin=function(e,r){return removeEdges(e)(r).apply(void 0,toConsumableArray(neighbors(e)(r)))},disconnectNodes=function(e){return function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.reduce(disconnectNodeBin,copy(e))}},removeNodes=function(e){return function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.reduce(removeBin,disconnectNodes(e).apply(void 0,t))}},mergeEdges=function(e){return function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return t.reduce(mergeEdgesBin,e)}},addNeighbor=function(e){return function(r){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return addBinMap$1(adj(e)(r),[t,n])}}},addEntry=function(e){return function(r){var t=slicedToArray(r,2),n=t[0],o=t[1],i=void 0===o?0:o;return addBinMap$1(e,[n,i])}},mergeNeighbors=uniteMap,addBinSet=turmericUtils.collections.addBinSet,lastK=turmericUtils.collections.lastK,hasK$1=turmericUtils.collections.hasK,mapDiff$1=turmericUtils.collections.mapDiff,diff=turmericUtils.collections.diff,addBinMap$2=turmericUtils.collections.addBinMap,spread$1=turmericUtils.collections.spread,spreadK$1=turmericUtils.collections.spreadK,spreadV=turmericUtils.collections.spreadV,popFirst=turmericUtils.collections.popFirst,tuple$1=turmericUtils.collections.tuple,pathVal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{pred:e,length:r,weight:t}}}},addSrc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;return function(r){return e.set(r,{pred:lastK(e),weight:0,length:1})}},initPath=function(e){return addSrc()(e)},ptW=function(e){var r=e.weight,t=void 0===r?0:r;return t},ptL=function(e){var r=e.length,t=void 0===r?1:r;return t},lastVal=function(e){return e.get(lastK(e))},lastW=function(e){return ptW(lastVal(e))},lastL=function(e){return ptL(lastVal(e))},nextW=function(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return lastW(e)+r}},nextL=function(e){return lastL(e)?lastL(e)+1:1},nextPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,r=arguments[1],t=slicedToArray(r,2),n=t[0],o=t[1],i=void 0===o?0:o;return e.set(n,pathVal(lastK(e))(nextL(e))(nextW(e)(i)))},dfs=function(e){return function(r){var t=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initPath(r),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[lastK(n),0],i=slicedToArray(o,2),c=i[0],a=i[1];return spread$1(mapDiff$1(e.get(c))(n)).reduce(t,nextPath(n,[c,a]))};return t(initPath(r))}},bfs=function(e){return function(r){var t=function r(t){return function(n){var o=popFirst(n),i=mapDiff$1(e.get(o))(t);return spread$1(i).reduce(nextPath,t),spreadK$1(i).reduce(addBinSet,n),n.size>0?r(t)(n):t}};return t(initPath(r))(new Set([r]))}},dijkstra=function(e){return function(r){for(var t=bfs(e)(r),n=new Set([r]),o=initPath(r);n.size>0;){var i=popFirst(n),c=e.get(i),a=o.get(i),u=a.length,d=a.weight,s=!0,l=!1,p=void 0;try{for(var f,g=c[Symbol.iterator]();!(s=(f=g.next()).done);s=!0){var m=slicedToArray(f.value,2),v=m[0],h=m[1],B=t.get(v)||{length:1,weight:0},S=(B.length,B.weight),x={pred:i,length:u+1,weight:d+h},y=d+h<S?x:B;o.has(v)||(n.add(v),o.set(v,y))}}catch(e){l=!0,p=e}finally{try{!s&&g.return&&g.return()}finally{if(l)throw p}}}return o}},components=function(e){var r=function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set,n=arguments[1];return diff(spreadK$1(e.get(n)))(t).reduce(r,t.add(n))},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments[1];return diff(r(new Set,t))(e).map(tuple$1(r(new Set,t))).reduce(addBinMap$2,e)};return spreadK$1(e).reduce(t,new Map)},componentSet=function(e){return new Set(spreadV(components(e)))},pathBetween=function(e){return function(r){return function(t){return hasK$1(components(e).get(t))(r)}}},spread$2=turmericUtils.collections.spread,spreadK$2=turmericUtils.collections.spreadK,spreadV$1=turmericUtils.collections.spreadV,spreadKV=turmericUtils.collections.spreadKV,last=turmericUtils.collections.last,redStr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",r=arguments[1],t=(arguments[2],arguments[3]);return r===last(t)?e.concat(r," "):e.concat(r," , ")},collString=function(e){return spread$2(e).reduce(redStr,"")},kString=function(e){return spreadK$2(e).reduce(redStr,"")},vString=function(e){return spreadV$1(e).reduce(redStr,"")},kvString=function(e){return spreadKV(e).reduce(redStr,"")},pathString=function(e){return" { "+spreadK$2(e).join(" => ")+" }"},edgeString=function(e){var r=slicedToArray(e,2),t=r[0],n=r[1];return"{ Edge "+t+" >> [ "+kString(n)+" ] } "},componentString=function(e){var r=slicedToArray(e,2),t=r[0],n=r[1];return"{ component "+t+" >> [ "+kString(n)+" ] } "},graphString=function(e){return spreadKV(e).reduce(function(e,r,t){var n=slicedToArray(r,2),o=n[0],i=n[1];return e+edgeString([o,i])},"Showing Edges\n")},showGraph=function(e){var r=e.edges;return graphString(r)},flatten$1=turmericUtils.collections.flatten,spread$3=turmericUtils.collections.spread,first=turmericUtils.collections.first,removeBin$1=turmericUtils.collections.removeBin,addMap$1=turmericUtils.collections.addMap,flattenBin$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return flatten$1(e)(r)},autoSpread=function e(r){return r[Symbol.iterator]?spread$3(r).reduce(flattenBin$1,[]).map(e):r},superNode=function(e){return function(r){return new Set([e,r])}},combineNeighbors=function(e){return function(r){return function(t){return new Set(flatten$1(neighbors(e)(r))(neighbors(e)(t)))}}},combineAdj=function(e){return function(r){return function(t){return new Map(flatten$1(adj(e)(r))(adj(e)(t)))}}},superAdj=function(e){return function(r){return function(t){return[r,t].reduce(removeBin$1,combineAdj(e)(r)(t))}}},superEdge=function(e){return function(r){return function(t){return addMap$1()(superNode(r)(t))(superAdj(e)(r)(t))}}},contract=function(e){return function(r){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:first(neighbors(e)(r));return t?mergeEdges(removeNodes(e)(r,t))(superEdge(e)(r)(t)):e}}},contractBin=function(e,r){var t=slicedToArray(r,2),n=t[0],o=t[1];return contract(e)(n)(o)},contractSrc=function(e){return function(r){return nodeNeighbors(e)(r).reduce(contractBin,copy(e))}},contractNext=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:first(nodes(e));return contract(copy(e))(r)()},contractAuto=function(e){return nodes(e).reduce(contractNext,e)},contractMin=function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return r.size>t?e(contractNext(r),t):copy(r)},operations=Object.freeze({autoSpread:autoSpread,superNode:superNode,combineNeighbors:combineNeighbors,combineAdj:combineAdj,superAdj:superAdj,superEdge:superEdge,contract:contract,contractBin:contractBin,contractSrc:contractSrc,contractNext:contractNext,contractAuto:contractAuto,contractMin:contractMin});exports.default=fromElements,exports.Operations=operations,exports.resetNodeBin=resetNodeBin,exports.addNodeBin=addNodeBin,exports.removeNodeBin=removeNodeBin,exports.addEdgeBin=addEdgeBin,exports.removeEdgeBin=removeEdgeBin,exports.importEdgeBin=importEdgeBin,exports.mergeEdgesBin=mergeEdgesBin,exports.spawn=spawn,exports.copy=copy,exports.fromElements=fromElements,exports.nodes=nodes,exports.adj=adj,exports.neighbors=neighbors,exports.contains=contains,exports.isAdjacent=isAdjacent,exports.kvPair=kvPair,exports.nodeNeighbors=nodeNeighbors,exports.addNodes=addNodes,exports.resetNodes=resetNodes,exports.addEdges=addEdges,exports.removeEdges=removeEdges,exports.disconnectNodeBin=disconnectNodeBin,exports.disconnectNodes=disconnectNodes,exports.removeNodes=removeNodes,exports.mergeEdges=mergeEdges,exports.addNeighbor=addNeighbor,exports.addEntry=addEntry,exports.mergeNeighbors=mergeNeighbors,exports.dfs=dfs,exports.bfs=bfs,exports.dijkstra=dijkstra,exports.components=components,exports.componentSet=componentSet,exports.pathBetween=pathBetween,exports.redStr=redStr,exports.collString=collString,exports.kString=kString,exports.vString=vString,exports.kvString=kvString,exports.pathString=pathString,exports.edgeString=edgeString,exports.componentString=componentString,exports.graphString=graphString,exports.showGraph=showGraph;
//# sourceMappingURL=bundle.cjs.js.map
